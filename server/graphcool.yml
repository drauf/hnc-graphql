types: ./types.graphql


permissions:
  - operation: Link.read
  - operation: Link.create
    authenticated: true

  # todo: add permission query
  - operation: UsersLinks.connect
    authenticated: true

  - operation: User.read
    fields: [id, name, links]

  - operation: Vote.read


functions:

  signup:
    type: resolver
    schema: src/email-password/signup.graphql
    handler:
      code: src/email-password/signup.ts

  authenticate:
    type: resolver
    schema: src/email-password/authenticate.graphql
    handler:
      code: src/email-password/authenticate.ts

  loggedInUser:
    type: resolver
    schema: src/email-password/loggedInUser.graphql
    handler:
      code: src/email-password/loggedInUser.ts

  vote:
    type: resolver
    schema: src/vote.graphql
    handler:
      code: src/vote.ts
